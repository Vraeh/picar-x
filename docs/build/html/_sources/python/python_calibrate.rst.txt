.. _py_calibrate:

PiCar-Xのキャリブレーション
=======================================

PiCar-X の取り付け時の偏差やサーボ自体の制限により一部のサーボ角度がわずかに傾いている可能性があるため調整することができます。

もちろん組み立てが完璧でキャリブレーションが必要ないと思われる場合はこの章をスキップできます。

#.  ``calibration.py`` を実行する。

    .. raw:: html

        <run></run>

    .. code-block::

        cd /home/pi/picar-x/example/calibration
        sudo python3 calibration.py

#. コードを実行するとターミナルに次のインタフェースが表示されます。

    .. image:: img/calibrate1.png

#.  ``R`` キーは、前輪の方向を制御するサーボが正常に機能し、損傷していないかどうかをテストするために使用されます。

#. 数字キー ``1`` を押して前輪サーボを選択し ``W/S`` キーを押して、前輪が左右にずれずできるだけ直進できるようにします。

    .. image:: img/calibrate2.png

#. 数字キー ``2`` を押して **パンサーボ** を選択し ``W/S`` キーを押してカメラがまっすぐ前に向き、左右にずれないようにします。

    .. image:: img/calibrate3.png

#. 数字キー ``3`` を押して **チルト サーボ** を選択し、次に ``W/S`` キーを押してカメラがまっすぐ水平に向き、上下に傾かないようにします。

    .. image:: img/calibrate4.png

#. 取り付け時にモーターの配線が逆になる可能性があるため ``E`` を押して車が正常に前進できるかどうかをテストできます。 そうでない場合は、数字キー ``4`` と ``5`` を使用して左右のモーターを選択し ``Q`` キーを押して回転方向を調整します。

    .. image:: img/calibrate6.png

#. キャリブレーションが完了したら ``スペースバー`` を押して調整値を保存します。 確認のために ``y`` を入力するプロンプトが表示され ``esc`` を押してプログラムを終了し、キャリブレーションを完了します。

    .. image:: img/calibrate5.png
